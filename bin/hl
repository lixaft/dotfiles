#!/usr/bin/python3
import argparse
import enum
import re
import sys
from typing import Sequence


class Colors(enum.Enum):
    """Color code."""

    BLACK = 30
    RED = 31
    GREEN = 32
    YELLOW = 33
    BLUE = 34
    MAGENTA = 35
    CYAN = 36
    WHITE = 37
    NO = 0



def main(argv: Sequence[str] = None) -> int:
    parser = argparse.ArgumentParser()
    parser.add_argument(
        "expression",
        help="The regular expression to highlight",
    )
    parser.add_argument(
        "--color",
        "-c",
        help="The color on which the regex will be highlighted",
    )
    args = parser.parse_args(argv)

    text = sys.stdin.read()
    text = re.sub(
        f"({args.expression})",
        rf"\033[{Colors[args.color.upper()].value}m\1\033[m",
        text,
    )
    print(text)
    return 0


if __name__ == "__main__":
    sys.exit(main())
